---
layout: default
title: Documentation
---

<section class="bs-docs-section">
  <h1 id="Quick-start" class="page-header">Quick start</h1>

  <blockquote>
    This section explains how to get DEv3 up and running.
  </blockquote>

  <h3 id="Add-DEv3-to-Slack">Authorize DEv3</h3>
  <p>
    Click on the button "Add to Slack" in the homepage. You will be redirected to Slack
    authorization page. Choose the team to which you want to add DEv3. Then, you will be redirected
    to GitHub authorization page.
  </p>

  <p>
    If everything went well, you will be redirected to the homepage.
    Read more about DEv3 authorization.
  </p>
  <br/>
  <h3 id="Watch-repos">Watch a GitHub repository</h3>
  <p>
    To start receiving messages for a given repository, you first need to tell DEv3. Use the
    slash command in Slack <code>/watchrepos username/repo-name</code>. Make sure you are
    on the team on which you added DEv3.

    A new GitHub webhook pointing to DEv3 is added to the repository you supplied (Learn
    more about <code>/watchrepos</code>).
  </p>

  </br>
  <p> <strong>And that's it !</strong> You should start receiving direct messages from
    <strong>dropeverything</strong> bot (Learn more about DEv3 messages) when there is
    some activity involving you in this repository.</p>
</section>

<section class="bs-docs-section">
  <h1 id="Slack-commands" class="page-header">Slack commands</h1>

  <blockquote>
    DEv3 comes with a set of <a href="https://api.slack.com/slash-commands"> slack commands </a>
    to interact with users. These commands can be executed from any channel of
    a team where DEv3 is installed. All these commands are described in this section.
  </blockquote>

  <div class="alert alert-warning" role="alert"> <strong>Note:</strong>
    Don't forget to prepend a slash "/" before the command name.
  </div>

  <h3 id="watchrepos">/watchrepos</h3>
  <p>
    <strong>Example</strong> : <code>/watchrepos john/awesome-stuff john/another-stuff</code>
  </p>
  <p>
    Watch GitHub repositories by DEv3.
  </p>
  <p>
    You can specify one or multiple repos separated by a whitespace. When a repository is watched by a user, he will
    start receiving messages related to this repo. A repo can be unwatched by issuing
    <a href="{{site.github.url}}/doc.html#unwatchrepos"><code>/unwatchrepos</code></a>.
  </p>
  <p>
    DEv3 will also try to add a GitHub webhook for each repo.
    After issuing <code>/watchrepos</code>, DEv3 will respond with a messages containing
    at most four sections. Each section regroups the repos that meet its description. Depending on the outcome,
    the user will need to take further action to properly configure DEv3 for each one.
  </p>
  <p>
    The following outcomes <strong>do not</strong> require any further action by the user :

    <li>The user has the rights to add a webhook to the repo and the webhook doesn't exist yet. A new
    GitHub webhook is added to the repo.</li>
    <li>The user has the rights to add a webhook and the webhook already exists. Everything
    is already in place !</li>
  </p>
  <p>
    The following outcomes <strong>do</strong> require the user to take further actions :
    <li>
      The user doesn't have enough permissions to add a webhook. To start receiving
      messages for this repo, another user with enough permissions needs to add the
      webhook. He can do it by issuing <code>/watchrepos your-repo</code>(needs to install
      DEv3) or add it manually.  Once the webhook is configured, you will receive messages for
      this repo even if you didn't add the webhook yourself.
    </li>
    <li>
      The repo has not been found. Either it's a mistyping error or the repo is
      private and you need to give DEv3 access to it.
      <a href="https://help.github.com/articles/requesting-organization-approval-for-oauth-apps/">See
        GitHub Doc
      </a>
    </li>
  </p>
  <p>
    When no repos are supplied to the command, DEv3 will send an error message specifying
    the error details.
  </p>
  <br/>

  <h3 id="unwatchrepos">/unwatchrepos</h3>
  <p>
    <strong>Example</strong> : <code>/unwatchrepos john/awesome-stuff john/another-stuff</code>
  </p>
  <p>
    Stops watching GitHub repositories by DEv3.
  </p>
  <p>
    You can specify one or multiple repos separated by a whitespace. When a repository is
    unwatched, the user will stop receiving messages related to this repo. After issuing this
    command, DEv3 will respond with a message with at most two sections(defined by the
    outcomes below). Each section regroups the repos that meet its description. To watch again
    <a href="{{site.github.url}}/doc.html#watchrepos"><code>/watchrepos</code></a>.
    <div class="alert alert-warning" role="alert"> <strong>Note:</strong>  Webhooks must be deleted
      manually. Webhooks associated with unwatched repos are not deleted automatically
      because other users may still be watching these repos. Make sure it is not the case
      before deleting any webhook.</div>
  </p>
  <p>
    After issuing <code>/unwatchrepos</code>, DEv3 will respond with a messages containing
    at most two sections :
    <li>The repo has been unwatched. You will no longer receive messages related to
      it.</li>
    <li>The repo has not been found.</li>
  </p>
  <p>
    When no repos are supplied to the command, DEv3 will send an error message specifying
    the error details.
  </p>
</section>

<section class="bs-docs-section">
  <h1 id="GitHub-activity-messages" class="page-header">GitHub activity messages</h1>
  <blockquote>
    The bread and butter of DEv3. Messages are the primary mean of DEv3 to notify the
    user via Slack about his activity on GitHub or to respond to a Slack command. Messages
    are posted in the
    <a href="https://get.slack.help/hc/en-us/articles/201925108-About-channels-and-direct-messages">
        Slack private Direct Message channel
    </a>
    between the user and DEv3 bot <strong>dropeverything</strong>. You will find in
    this section a full description of every message sent by DEv3 and how a user can interact with them.
  </blockquote>

  <h3 id="Messages-list">Messages definition</h3>
  <p>
    Messages related to the user activity on GitHub. They are built and delivered using
    data from GitHub webhooks set before.</p>
  <h4 id="you-have-been-mentioned-msg">New mention</h4>
  <img src="assets/images/you_have_been_mentioned_msg.png" width="60%"/>
  <h4 id="comments-review-msg">Review submitted</h4>
  <p>Comments review</p>
  <img src="assets/images/comments_review_msg.png" width="60%"/>

  <h3 id="Message-interactions">Message interactions</h3>
  <p>
    DEv3 leverages a cool feature of Slack API namely <a
      href="https://api.slack.com/interactive-messages"> interactive messages</a>.
    Broadly, it allows a user to trigger one or multiple actions after receiving a Slack message
    containing elements for interacting with it (buttons, menus). DEv3 uses this API
    to allow users to interact with DEv3 messages in Slack by muting/unmuting issues or pull
    requests, or snoozing messages.
  </p>
  <h4 id="Message-interactions-mute">Mute</h4>
  <p>
    By clicking on the "Mute Issue" button, the user won't receive any
    further messages related to the issue. Clicking again will unmute the issue.
  </p>
  <h4 id="Message-interactions-unmute">Unmute</h4>
  <p>
    By clicking on the "Unmute" button, the user will again receive messages related to
    the issue. Clicking again will mute the issue.
  </p>
  <h4 id="Message-interactions-snooze">Snooze</h4>
  <p>
    A user can snooze a message to be able to act upon it at a more convenient moment. By
    clicking on the "Snooze..." button, a menu will show with two options(1 hour or
    tomorrow). The message will then be delivered at the chosen moment.
  </p>
  <img src="assets/images/message_interactions_snooze.png" width="60%"/>
  <br/>
  <br/>
  <div class="alert alert-info" role="alert"> <strong>Note:</strong>
    The snoozed version of the message received contains the time at which the original
    message has been sent.
  </div>
  <div class="alert alert-warning" role="alert"> <strong>Note:</strong>
    The snoozed version of the message received doesn't have a mute button. You can only
    mute from the original message. It is so to keep consistency with the muting status of
    the issue (or pull request), as it would be required to update all snoozed versions
    of a message "Mute" button to reflect the status of the issue.
  </div>
</section>
